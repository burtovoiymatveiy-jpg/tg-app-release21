<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ó–∞–∫–∞–∑ —Ä–∞–±–æ—Ç—ã @awarem</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
        :root {
            --bg: #ffffff; --sec-bg: #f4f4f5; --text: #000000; --hint: #707579;
            --card-border: rgba(0,0,0,0.1); --accent: #3390ec; --accent-red: #ff3b30; --accent-green: #34c759;
            --toggle-off: #dee2e6;
        }

        /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        [data-theme="dark"] {
            --bg: #1c1c1d; --sec-bg: #2c2c2e; --text: #ffffff; --hint: #8e8e93; 
            --card-border: rgba(255,255,255,0.1); --toggle-off: #3a3a3c;
        }

        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ —Ç–µ–ª–∞ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            color: var(--text); margin: 0; padding: 16px;
            display: flex; flex-direction: column; gap: 12px;
            min-height: 100vh;
            transition: background 0.3s ease;
            background-color: #ffffff; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–µ–ª—ã–π */
        }

        /* –ì–†–ê–î–ò–ï–ù–¢ –î–õ–Ø –¢–ï–ú–ù–û–ô –¢–ï–ú–´ - –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û */
        [data-theme="dark"] body {
            background: linear-gradient(-45deg, #050505, #12121f, #1a1a2e, #080810) !important;
            background-size: 400% 400% !important;
            animation: gradient-animation 10s ease infinite !important;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* –°–∫–µ–ª–µ—Ç–æ–Ω –∏ —ç–ª–µ–º–µ–Ω—Ç—ã */
        #skeleton { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 1000; padding: 16px; box-sizing: border-box; }
        .sk-card { background: var(--sec-bg); height: 60px; border-radius: 16px; margin-bottom: 12px; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

        .theme-toggle {
            position: absolute; top: 12px; right: 16px; background: var(--sec-bg);
            border: 1px solid var(--card-border); border-radius: 50%; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100;
        }

        .card { background: var(--sec-bg); border-radius: 16px; padding: 14px; border: 1px solid var(--card-border); }
        label { font-size: 10px; color: var(--hint); font-weight: 800; text-transform: uppercase; margin-bottom: 4px; display: block; }
        
        input, select, textarea {
            background: var(--bg); border: 1px solid var(--card-border); border-radius: 10px;
            color: var(--text); font-size: 16px; padding: 10px; width: 100%; box-sizing: border-box; outline: none;
        }

        /* Toggle */
        .switch { position: relative; display: inline-block; width: 40px; height: 22px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: var(--toggle-off); transition: .3s; border-radius: 22px;
        }
        .slider:before {
            position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px;
            background-color: white; transition: .3s; border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--accent-green); }
        input:checked + .slider:before { transform: translateX(18px); }

        .preview-box {
            background: var(--sec-bg); border: 1px dashed var(--hint); border-radius: 12px;
            padding: 12px; font-family: monospace; font-size: 12px; white-space: pre-line;
            max-height: 0; opacity: 0; overflow: hidden; transition: 0.4s ease-in-out;
        }
        .preview-box.show { max-height: 400px; opacity: 1; margin: 10px 0; border: 1px solid var(--accent); }

        .main-btn { background: var(--accent); color: white; border: none; padding: 16px; border-radius: 14px; font-size: 16px; font-weight: 700; width: 100%; cursor: pointer; }
        .row { display: flex; gap: 8px; }
        .secondary-btn { background: var(--sec-bg); border: 1px solid var(--card-border); color: var(--accent); padding: 10px; border-radius: 12px; font-size: 13px; font-weight: 600; text-align: center; flex: 1; cursor: pointer; }
        
        .disclaimer { font-size: 10px; color: var(--hint); line-height: 1.3; text-align: center; margin-top: 8px; }
    </style>
</head>
<body>

<div id="skeleton">
    <div class="sk-card" style="width: 40%;"></div>
    <div class="sk-card"></div>
    <div class="sk-card" style="height: 120px;"></div>
</div>

<div class="theme-toggle" onclick="toggleTheme()" id="theme-btn">‚òÄÔ∏è</div>

<div class="row" style="margin-top: 40px;">
    <div class="secondary-btn" onclick="tg.openTelegramLink('https://t.me/txtandpptx')">üì¢ –ö–∞–Ω–∞–ª</div>
    <div class="secondary-btn" onclick="tg.openTelegramLink('https://t.me/OTZblBblawarem')">‚≠ê –û—Ç–∑—ã–≤—ã</div>
</div>

<div class="card">
    <label>–í–∏–¥ —Ä–∞–±–æ—Ç—ã</label>
    <select id="type" onchange="update()">
        <option value="–†–µ—Ñ–µ—Ä–∞—Ç">üìù –†–µ—Ñ–µ—Ä–∞—Ç</option>
        <option value="–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è">üìä –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è</option>
        <option value="–î–æ–∫–ª–∞–¥">üé§ –î–æ–∫–ª–∞–¥</option>
        <option value="–ü—Ä–æ–µ–∫—Ç">üí° –ü—Ä–æ–µ–∫—Ç</option>
        <option value="–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–µ–∫—Ü–∏—é">üñã –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–µ–∫—Ü–∏—é</option>
    </select>
    <div class="row" style="margin-top:10px">
        <div><label id="unit-label">–°—Ç—Ä–∞–Ω–∏—Ü</label><input type="number" id="count" placeholder="0" oninput="update()"></div>
        <div><label>–î–∞—Ç–∞</label><input type="text" id="date" maxlength="5" placeholder="01.01" oninput="update()"></div>
    </div>
</div>

<div class="card">
    <label>–î–µ—Ç–∞–ª–∏ –∏ —Ü–µ–Ω–∞</label>
    <textarea id="details" rows="2" placeholder="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." oninput="update()"></textarea>
    <input type="number" id="price" placeholder="–¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö" style="margin-top:10px" oninput="update()">
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <span style="font-size: 14px; font-weight: 700;">üö® –°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑</span>
        <label class="switch">
            <input type="checkbox" id="urgent" onchange="update()">
            <span class="slider"></span>
        </label>
    </div>
</div>

<div class="preview-box" id="preview"></div>

<button class="main-btn" onclick="copy()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

<div class="disclaimer">
    üí≥ –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 100% | ‚úÖ –ë–µ–∑ –∞–Ω—Ç–∏–ø–ª–∞–≥–∏–∞—Ç–∞
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    setTimeout(() => document.getElementById('skeleton').style.display = 'none', 800);

    function toggleTheme() {
        const isDark = document.body.getAttribute('data-theme') === 'dark';
        document.body.setAttribute('data-theme', isDark ? 'light' : 'dark');
        document.getElementById('theme-btn').innerText = isDark ? '‚òÄÔ∏è' : 'üåô';
        tg.HapticFeedback.impactOccurred('medium');
    }

    // –ê–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã Telegram
    if (tg.colorScheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        document.getElementById('theme-btn').innerText = 'üåô';
    }

    function update() {
        const type = document.getElementById('type').value;
        const count = document.getElementById('count').value;
        const date = document.getElementById('date').value;
        const price = document.getElementById('price').value;
        const isUrgent = document.getElementById('urgent').checked;

        if (count && date && price) {
            document.getElementById('preview').classList.add('show');
        }

        let header = isUrgent ? 'üö® –°–†–û–ß–ù–´–ô –ó–ê–ö–ê–ó üö®\n' : '';
        document.getElementById('preview').innerText = `${header}–í–∏–¥: ${type}\n–ö–æ–ª-–≤–æ: ${count}\n–°—Ä–æ–∫: ${date}\n–¶–µ–Ω–∞: ${price}‚ÇΩ\n‚úÖ –°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ —É—Å–ª–æ–≤–∏—è.`;
    }

    function copy() {
        const text = document.getElementById('preview').innerText;
        const el = document.createElement('textarea');
        el.value = text;
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
        
        tg.HapticFeedback.notificationOccurred('success');
        tg.showAlert("–ê–Ω–∫–µ—Ç–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!");
        tg.openTelegramLink("https://t.me/awarem");
    }

    update();
</script>
</body>
</html>
